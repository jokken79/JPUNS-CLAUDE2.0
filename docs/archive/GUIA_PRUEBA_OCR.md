# GuÃ­a de Prueba - Sistema OCR Mejorado

## ğŸ¯ URL de Prueba
```
http://localhost:3000/templates/rirekisho.html
```

---

## âœ… Lo que DEBERÃAS VER ahora

### Antes de Subir Archivo:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åœ¨ç•™ã‚«ãƒ¼ãƒ‰                    â”‚
â”‚                                 â”‚
â”‚  [ğŸ“„ Ãrea de carga]            â”‚
â”‚   ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PASO 1 - Inmediatamente despuÃ©s de seleccionar archivo:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Imagen preview]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ ç”»åƒã‚’èª­ã¿è¾¼ã‚“ã§ã„ã¾ã™...   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ [barra animada] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒ†ãƒƒãƒ— 1/3: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸­...â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PASO 2 - Enviando al servidor:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Imagen preview]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” OCRå‡¦ç†ä¸­...               â”‚
â”‚ (ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡ºã—ã¦ã„ã¾ã™)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ [barra animada] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒ†ãƒƒãƒ— 2/3: ã‚µãƒ¼ãƒãƒ¼ã§å‡¦ç†ä¸­...â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### PASO 3 - Procesando datos:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Imagen preview]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ ãƒ‡ãƒ¼ã‚¿ã‚’è§£æã—ã¦ã„ã¾ã™...   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ [barra animada] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒ†ãƒƒãƒ— 3/3: ãƒ‡ãƒ¼ã‚¿è§£æä¸­...  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ã‰XITO - Completado:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Imagen preview]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… å‡¦ç†å®Œäº†ï¼                  â”‚
â”‚ ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ã¾ã—ãŸ            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Y el formulario se auto-rellena con:
âœ“ Nombre
âœ“ Fecha de nacimiento
âœ“ Edad (calculada)
âœ“ GÃ©nero
âœ“ Nacionalidad
âœ“ DirecciÃ³n
âœ“ Foto del rostro
```

---

## âŒ ERRORES que podrÃ­as ver

### Error 1: Archivo muy grande (>10MB)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ           â”‚
â”‚                                     â”‚
â”‚ ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã¾ã™ã€‚     â”‚
â”‚ 10MBä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„â”‚
â”‚ (File too large, max 10MB)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error 2: Tipo de archivo invÃ¡lido
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ           â”‚
â”‚                                     â”‚
â”‚ ç„¡åŠ¹ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™ã€‚           â”‚
â”‚ JPGã€PNGã€ã¾ãŸã¯PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’      â”‚
â”‚ é¸æŠã—ã¦ãã ã•ã„ã€‚                 â”‚
â”‚ (Invalid file type)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error 3: Backend apagado
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ           â”‚
â”‚                                     â”‚
â”‚ ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“ã€‚         â”‚
â”‚ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹       â”‚
â”‚ ç¢ºèªã—ã¦ãã ã•ã„ã€‚                 â”‚
â”‚ (Cannot connect to server)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error 4: Timeout (60 segundos)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ           â”‚
â”‚                                     â”‚
â”‚ å‡¦ç†ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚       â”‚
â”‚ ã‚µãƒ¼ãƒãƒ¼ãŒå¿œç­”ã—ã¦ã„ã¾ã›ã‚“ã€‚       â”‚
â”‚ (Request timeout)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error 5: OCR fallÃ³ (imagen borrosa)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âŒ ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ           â”‚
â”‚                                     â”‚
â”‚ ã‚µãƒ¼ãƒãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚     â”‚
â”‚ ç”»åƒãŒä¸é®®æ˜ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚â”‚
â”‚ (Server error - Image may be unclear)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª CASOS DE PRUEBA

### âœ… Prueba 1: Archivo VÃ¡lido
**AcciÃ³n:** Sube una imagen JPG de åœ¨ç•™ã‚«ãƒ¼ãƒ‰ clara (< 10MB)
**Esperado:**
1. Ver Paso 1/3
2. Ver Paso 2/3
3. Ver Paso 3/3
4. Ver âœ… å‡¦ç†å®Œäº†ï¼
5. Formulario auto-rellenado

### âŒ Prueba 2: Archivo Grande
**AcciÃ³n:** Intenta subir archivo > 10MB
**Esperado:**
- Error INMEDIATO (antes de subir)
- Mensaje: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã¾ã™..."

### âŒ Prueba 3: Archivo Incorrecto
**AcciÃ³n:** Intenta subir .docx o .txt
**Esperado:**
- Error INMEDIATO
- Mensaje: "ç„¡åŠ¹ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™..."

### âŒ Prueba 4: Backend Apagado
**AcciÃ³n:**
1. DetÃ©n el backend: `docker stop uns-claudejp-backend`
2. Intenta subir imagen vÃ¡lida
**Esperado:**
- Ver Paso 1/3
- Esperar timeout (60s)
- Mensaje: "ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“..."

### âœ… Prueba 5: Reintentar despuÃ©s de Error
**AcciÃ³n:**
1. Genera un error (cualquiera)
2. Sube otra imagen
**Esperado:**
- Input se limpia automÃ¡ticamente
- Puedes subir de nuevo sin problema
- Proceso inicia desde cero

---

## ğŸ” DEBUGGING

### Ver Console del Navegador (F12):

#### Proceso Exitoso:
```
Sending request to backend OCR API...
âœ… OCRå‡¦ç†æˆåŠŸ: {name: "...", birthday: "..."}
âœ“ Auto-converted name to Katakana: ...
âœ“ Edad calculada: 25
âœ“ GÃ©nero: ç”·æ€§
âœ“ Nacionalidad: ãƒ™ãƒˆãƒŠãƒ 
```

#### Proceso con Error:
```
âŒ OCR Error: Error: ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶šã§ãã¾ã›ã‚“...
ğŸ“‹ Detalles del error:
  - Tipo de documento: zairyu
  - Nombre del archivo: IMG_123.jpg
  - TamaÃ±o del archivo: 2543.21 KB
  - Tipo MIME: image/jpeg
  - Error completo: TypeError: Failed to fetch
```

---

## ğŸ¨ COLORES DE ESTADO

### Azul (Procesando):
- Fondo: #DBEAFE
- Texto: #1D4ED8
- Significa: Trabajando...

### Verde (Ã‰xito):
- Fondo: #D1FAE5
- Texto: #059669
- Significa: Â¡Listo!

### Rojo (Error):
- Fondo: #FEE2E2
- Texto: #DC2626
- Significa: Algo fallÃ³

---

## ğŸ“± COMPATIBILIDAD

âœ… Chrome
âœ… Edge
âœ… Firefox
âœ… Safari

---

## âš™ï¸ CONFIGURACIÃ“N ACTUAL

- **Timeout:** 60 segundos
- **TamaÃ±o mÃ¡ximo:** 10MB
- **Formatos:** JPG, PNG, PDF
- **Servidor:** http://localhost:8000
- **Endpoint:** /api/candidates/ocr/process

---

## ğŸ†˜ SI AÃšN VES EL MENSAJE ANTIGUO

1. **Hard Refresh:**
   - Windows: `Ctrl + Shift + R`
   - Mac: `Cmd + Shift + R`

2. **Limpiar CachÃ©:**
   - Chrome: F12 â†’ Network tab â†’ Disable cache (checkbox)
   - Luego recargar (F5)

3. **Modo IncÃ³gnito:**
   - Abre en ventana incÃ³gnita
   - `Ctrl + Shift + N` (Chrome)

4. **Verificar versiÃ³n del archivo:**
   ```bash
   curl http://localhost:3000/templates/rirekisho.html | grep "progress-container"
   ```
   - DeberÃ­a mostrar: `progress-container` 3 veces

---

**Ãšltima ActualizaciÃ³n:** 2025-10-07 12:38
**Estado:** âœ… Desplegado y funcionando
